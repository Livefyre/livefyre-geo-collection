<!doctype html>

<h1>livefyre-geo-collection/examples/archive</h1>
<main id="app"></main>

<script src="https://cdn.livefyre.com/Livefyre.js"></script>
<script>
Livefyre.require([
  '../dist/livefyre-geo-collection.js'],
function (GeoCollection) {
  var appEl = document.getElementById('app');
  var archive = GeoCollection.archive({
    collection: {
      network: 'labs.fyre.co',
      siteId: 315833,
      articleId: 'ben-geo-1'
    },
    x: 3,
    y: 1,
    z: 3
  });

  archive.on('data', function (d) {
    var dataEl = renderArchiveData(d)
    appEl.insertBefore(dataEl, appEl.firstChild);
  });
  
  function renderArchiveData(data) {
    var el = document.createElement('pre');
    var formatted = JSON.stringify(JSON.parse(data), null, 2);
    var text = document.createTextNode(formatted);
    el.appendChild(text);
    return el;
  }
})
</script>
